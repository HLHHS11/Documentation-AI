要するに「開発補助AIエージェント」を作りたいのです。既存のソースコードについて質問したら答えてくれて，新たな機能追加をしたいってなったときにはどこにどうコードを加えればいいか指摘してくれる，そんな感じでプロジェクトに精通したAIの"copilot"を作りたいのです。
ドキュメント化の過程は，一例として考えられるのは一個一個のファイルをそれぞれopenAI API等に解釈してもらう方法です。しかしながら情報が少なかったらあまり効果をなさないので，以下のような流れで，必要な外部モジュール等の情報も付加したいです。
1. ソースコードをパースして，抽象構文木を作る
2. importしてきている各モジュールに対して，データベース化されたドキュメントを取得する
3. ファイルの内容を，「こういう外部モジュールをインポートして使っていますよ」という情報とともにopenAI APIに送って，解釈してもらう

こういうドキュメンテーションシステムを作ろうとしています。

## 機能要件[^仕様(0708)メモ.md]
1. ソースコードの全体像の把握: プログラム全体の流れを自然言語やUML図などで解説するドキュメントを生成する。また、エントリポイントからのプログラム全体の流れの把握を助ける。
2. プログラムの詳細な理解: ソースコードの詳細な理解を助けるために、モジュールからインポートした関数やクラスの役割を説明するドキュメントを生成する。
3. チャット形式の対話: ユーザーがAIエージェントに質問できるように、チャットボット形式の対話機能を提供する。
4. プログラムや機能の追加時の助言とアドバイス: プログラムや機能の追加時に助言やアドバイスを提供する。

## 内部設計要件[^開発メモ.md] [^仕様(0708)メモ.md]
1. ソースコード解析: 抽象構文木（AST）を利用してソースコードを解析する。`esprima` や `babel` などのライブラリを使用する。
2. データベース構築: ディレクトリ構造、ファイルごとの役割解析結果、クラスや関数の内部実装チェック結果をそれぞれ保存するデータベースを構築する。
3. AIエージェント: ChatCompletion APIやCompletion APIを用いてAIエージェントを構築する。

## その他の考察[^思いつきを書き留めるメモ.md]
1. ソースコードをテキストベースで解析する場合、文法エラーのチェックが重要である。
2. インターフェースに対しては、インターフェースそのものに対する解説と、インターフェースの実装に対する解説を分けて保存すると有用である。
3. クラス・関数単位でAIに解釈させる際には、その関数内で使用しているモジュールの情報を背景知識として渡す必要がある。
4. 生成されたドキュメントとそれに対するフィードバックを反映する機能も必要である。

## プラスアルファ：AIエージェントの可能性[^仕様策定メモ.md]
AIエージェントは、開発者がコードの全体像を把握し、細部まで理解するのを助けるだけでなく、新たなプログラムや機能を追加する際のアドバイスや助言も提供できます。これは、開発者が自身のコードをより効率的に、より効果的に管理、改善、拡張するのを助けます。さらに、AIエージェントは、コードの最適化ポイントの特定、パフォーマンスのボトルネックの特定、セキュリティ上の懸念事項の特定など、開発者がコードの品質を維持・向上するのに役立つ情報を提供する可能性もあります。このような機能は、開発者が自身のコードをより効率的に、より効果的に管理、改善、拡張するのを助けます。

[^思いつきを書き留めるメモ.md]: [参考](./archive/思いつきを書き留めるメモ.md)
[^note.txt]: [参考](./archive/note.txt)
[^仕様策定メモ.md]: [参考](./archive/仕様策定メモ.md)
[^開発メモ.md]: [参考](./archive/開発メモ.md)
[^仕様.md]: [参考](./archive/仕様.md)
[^仕様(0708)メモ.md]: [参考](./archive/仕様(0708)メモ.md)

